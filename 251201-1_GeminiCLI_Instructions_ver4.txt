### GeminiCLIへの指示書（12月データ追加・完全版）

**【実行タスク】**
`00_image_gallery.html` の末尾に、新たに「10_12月データ」のアコーディオンセクションを追加します。
ファイルリスト（.txt）は使用せず、フォルダ内の実ファイルをスキャンしてHTMLを構築するPythonスクリプトを生成・実行してください。

**【入力情報】**
1.  **画像フォルダ:** `10_12月データ/` （ここにある `.webp` ファイルを直接スキャンします）
2.  **編集対象ファイル:** `00_image_gallery.html`

**【厳守するルール】**
1.  **フォルダ直接スキャン:** `00_file_list.txt` は無視し、`os.listdir()` で画像ファイルを直接取得してください。
2.  **余計なテキスト出力の禁止:** HTML内には画像タグ（`<img>`）と構造タグ（`<div>`等）のみを含め、グループ名（プレフィックス）やファイル名、`\n` という文字そのものをテキストとして表示しないでください。
3.  **確実なクリーンアップ:** 追記前に、正規表現を使って既存の「10_12月データ」セクションと、末尾の `</body>` `</html>` タグを完全に削除してください。
4.  **正しいソート順:** 各グループ内で、`_01`〜`_05.webp` を優先して番号順に、それ以外をアルファベット順に並べてください。

**【実行ステップ】**
1.  `add_december_gallery_final.py` という名前で、以下の機能を持つPythonスクリプトを**新規に作成**してください。
    * 必要なモジュール (`os`, `re`, `collections` など) をインポート。
    * **設定:**
        * `IMG_DIR = '10_12月データ'`
        * `TARGET_HTML = '00_image_gallery.html'`
        * `ACCORDION_NAME = '10_12月データ'`
    * **HTML生成関数 (def generate_html_block):**
        * `os.listdir(IMG_DIR)` から `.webp` ファイルリストを取得します（大文字小文字無視）。
        * ファイル名をプレフィックス（`_` の前）でグループ化します。
        * HTMLリスト `html_output = []` を準備します。
        * `html_output.append(f'<button class="accordion">{ACCORDION_NAME}</button>')`
        * `html_output.append('<div class="panel">')`
        * **（重要）** グループのキー（プレフィックス）でループしますが、**キー自体はHTMLに出力しません**。
        * 各グループ内でファイルを「優先（_01-_05）」と「その他」に分けてソートし、結合します。
        * 結合したリストを5個ずつのチャンクに分け、`<div class="image-row">` で囲みます。
        * 各画像について `<img src="{IMG_DIR}/{file}" alt="{file}" onclick="openModal(this)" loading="lazy" />` を生成し追加します。
        * `html_output.append('</div>')` でパネルを閉じます。
        * `"\n".join(html_output)` で結合して返します。（Pythonコード上の改行のみ使用し、HTMLテキストとしての `\n` は含めないこと）
    * **メイン処理 (def main):**
        * `00_image_gallery.html` を読み込みます。
        * **掃除:** 正規表現 `re.sub(r'<button class="accordion">10_12月データ</button>.*<div class="panel">.*?</div>', '', original_html, flags=re.DOTALL)` で既存セクションを削除。
        * **掃除2:** `</body>` と `</html>` タグを削除。
        * **結合:** 掃除したHTMLの末尾に、新しく生成したHTMLブロックを追加し、最後に `</body>` と `</html>` を閉じて保存します。
        * 「10_12月データの追加作業が正常に完了しました。」と出力します。
2.  作成した `add_december_gallery_final.py` を**実行**します。
3.  スクリプトの出力を確認します。
4.  一時ファイル `add_december_gallery_final.py` を**削除**します。
5.  「すべての作業が完了しました。」と報告してください。

**【タスクの完遂】**
この指示書のタスクを忠実に完遂してください。